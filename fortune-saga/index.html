<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Veskai - Fortune Saga</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="https://files.catbox.moe/19kpnf.png">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse w-100" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Discord</a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="https://discord.gg/JHpD6jYYxA" target="_blank">Join Server</a></li>
                            <li><a class="dropdown-item" href="https://tako.id/veskai" target="_blank">Membership</a></li>
                            <li><a class="dropdown-item" href="/unban/">Unban Req</a></li>
                        </ul>
                    </li>
                </ul>
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Partners</a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="https://discord.com/users/1385570363395543072" target="_blank">Akira Vei - Creator</a></li>
                            <li><a class="dropdown-item" href="https://www.instagram.com/rzzll_008" target="_blank">rzzll_088 - Creator</a></li>
                            <li><a class="dropdown-item" href="https://www.youtube.com/@RocinanteYT" target="_blank">Rocinante - Creator</a></li>
                            <li><a class="dropdown-item" href="/fortune-saga/">Fortune Saga - Bot</a></li>
                            <li><a class="dropdown-item" href="https://anikai.xyz" target="_blank">Anikai - Streaming</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Pages</a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="/staff/">Staff</a></li>
                            <li><a class="dropdown-item" href="Mailto:veskaiprod@gmail.com" target="_blank">Email Us!</a></li>
                            <li><a class="dropdown-item" href="https://youtube.com/@veskai" target="_blank">Youtube</a></li>
                            <li><a class="dropdown-item" href="https://twitter.com/VeskaiID" target="_blank">X (Twitter)</a></li>
                            <li><a class="dropdown-item" href="https://instagram.com/Veskai.id" target="_blank">Instagram</a></li>
                            <li><a class="dropdown-item" href="https://www.tiktok.com/@veskai.pro" target="_blank">TikTok</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    
    <a class="navbar-brand-centered" href="#!" title="Veskai">
        <img src="https://files.catbox.moe/19kpnf.png" alt="Veskai Logo" style="height: 35px;">
    </a>

    <main id="hero" class="d-flex align-items-center justify-content-center text-center">
        <div class="container">
            <h1 class="hero-title">Fortune Saga</h1>
            <p class="hero-subtitle">RPG, Economy, Temp Role Discord Bot by Veskai Production</p>
            <a href="/" class="btn btn-join">Home</a>
        </div>
    </main>

    <section id="community" class="bg-dark-pink1">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-7">
                    <h2 class="text-white mb-4">Fortune Saga</h2>
                    <p class="text-white-50">Bot RPG</p>
                    <p class="text-white-50">soon</p>
                    <a href="https://discord.com/oauth2/authorize?client_id=1386319866365083753" style="margin-bottom: 10%;" class="btn btn-join">Invite Bot</a>
                    <a href="https://discord.gg/QwwznUTZH6" style="margin-bottom: 10%;" class="btn btn-join">Official Server</a>
                </div>
                    <div class="col-md-5">
                      <div class="guild-leaderboard">
                        <h1><img src="https://cdn3.emoji.gg/emojis/30348-trophy-fixed.gif" alt="trophy" class="emoji-top"> Guild Leaderboard</h1>
                        <table class="guild-table">
                          <thead>
                            <tr>
                              <th>Rank</th>
                              <th>Guild</th>
                              <th>Bank</th>
                            </tr>
                          </thead>
                          <tbody id="leaderboard">
                            <tr><td colspan="3">Loading...</td></tr>
                          </tbody>
                        </table>
                      </div>
                    
                      <script type="module">
                        import { createClient } from "https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm";
                    
                        const supabaseUrl = "https://ikidbzuswyvypvwrhyua.supabase.co";
                        const supabaseKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlraWRienVzd3l2eXB2d3JoeXVhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE5MTEwMTEsImV4cCI6MjA2NzQ4NzAxMX0.v-m7DW4eTTDLCoVAL7vWSUW6I0SsOh2tpA1INb5JaEg";
                        const supabase = createClient(supabaseUrl, supabaseKey);
                    
                        async function loadLeaderboard() {
                          try {
                            const { data, error } = await supabase
                              .from("Guild")
                              .select("name, logoUrl, bank")
                              .order("bank", { ascending: false })
                              .limit(10);
                    
                            if (error) throw error;
                    
                            const tbody = document.getElementById("leaderboard");
                            tbody.innerHTML = "";
                    
                            data.forEach((guild, index) => {
                              const tr = document.createElement("tr");
                              tr.innerHTML = `
                                <td class="rank">#${index + 1}</td>
                                <td class="guild-name">
                                  <img src="${guild.logoUrl}" alt="${guild.name}" class="guild-logo">
                                  ${guild.name}
                                </td>
                                <td class="bank"><img src="https://cdn3.emoji.gg/emojis/1643-pixelcoin.gif" alt="coin" class="emoji"> ${guild.bank.toLocaleString()}</td>
                              `;
                              tbody.appendChild(tr);
                            });
                    
                          } catch (err) {
                            console.error("Error:", err);
                            document.getElementById("leaderboard").innerHTML =
                              `<tr><td colspan="3">⚠️ ${err.message}</td></tr>`;
                          }
                        }
                    
                        loadLeaderboard();
                      </script>
                    </div>

            </div>
        </div>
    </section>

    <main id="hero" class="d-flex align-items-center justify-content-center text-center bg-dark-pink">
        <div class="container">
            <h1 style="font-weight: 800; color: white;">Available Commands</h1>
            <p class="hero-subtitle">All the commands are available here</p>
            <a href="/fortune-saga/commands/" class="btn btn-join">Commands</a>
        </div>
    </main>

    <script>
      const accBtns = document.querySelectorAll(".accordion-btn");
    
      accBtns.forEach(btn => {
        btn.addEventListener("click", () => {
          const isActive = btn.classList.contains("active");
    
          // Tutup semua
          accBtns.forEach(b => {
            b.classList.remove("active");
            b.nextElementSibling.style.maxHeight = null;
          });
    
          // Kalau tadi belum aktif, buka
          if (!isActive) {
            btn.classList.add("active");
            const content = btn.nextElementSibling;
            content.style.maxHeight = content.scrollHeight + "px";
          }
        });
      });
    </script>

    <footer class="footer-section">
        <div class="container text-center">
            <p class="mb-0 text-white-50">&copy; 2025 Veskai. All Rights Reserved.</p>
        </div>
    </footer>

    <a href="#" id="scrollTopBtn" class="scroll-top-btn">
        <i class="bi bi-arrow-up"></i>
    </a>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    
    <script src="script.js"></script>
</body>
</html>